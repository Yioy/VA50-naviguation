<launch>

    <param name="config_file" value="$(find bringup)/config/circulation4-2.yml" />

    <arg name="launch_trafficsigns" default="false" />
    <arg name="launch_control" default="false" />

    <env name="ROSCONSOLE_FORMAT" value="[${severity}] [${node}]: ${message}"/>

    <!-- Node for transformtrack -->
    <node pkg="transformtrack" type="transformtrack_node" name="transform_batch_server" output="screen" />
  
    <!-- Node for circulation -->
    <node pkg="circulation" type="circulation4.py" name="circulation4_node" output="screen"/>
  
    <!-- Argument to control whether to launch trafficsigns node -->
    <group if="$(arg launch_trafficsigns)">
      <node pkg="trafficsigns" type="distance_extractor.py" name="distance_extractor_node" output="screen">
        <param name="no_lights" value="true" />
      </node>
    </group>
  
    <!-- Argument to control whether to launch control node -->
    <group if="$(arg launch_control)">
      <node pkg="control" type="control.py" name="control_node" output="screen"/>
    </group>
  </launch>